<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iman Fernando</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Audio element for music playback -->
    <audio id="audioPlayer" preload="metadata"></audio>

    <nav>
        <div class="nav-container">
            <div class="logo">IMAN FERNANDO</div>
            <ul class="nav-links" id="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#music">Music</a></li>
                <li><a href="#collaborations">Collaborations</a></li>
                <li><a href="#tour">Live</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="mobile-menu" onclick="toggleMenu()">
                <div class="menu-bar"></div>
                <div class="menu-bar"></div>
                <div class="menu-bar"></div>
            </div>
        </div>
    </nav>

    <section id="home" class="hero">
        <video autoplay muted loop id="heroVideo" class="hero-background-video">
            <source src="images/Vids/backvid.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <div class="hero-content">
            <h1>IMAN</h1>
            <p>Singer • Artist • Performer</p>
            <div class="hero-play-container">
                <button class="hero-play-btn" id="heroPlayBtn" onclick="toggleHeroPlayback()">
                    ▶
                </button>
                <div class="hero-track-info" id="heroTrackInfo">
                    <div class="hero-track-title" id="heroTrackTitle">Midnight Dreams</div>
                    <div class="hero-track-artist">Iman Fernando</div>
                </div>
            </div>
        </div>
        <div class="scroll-indicator"></div>
    </section>

    <section id="about" class="flagship-showcase">
        <div class="showcase-container">
            <div class="showcase-content">
                <div class="showcase-text">
                    <h2>ABOUT</h2>
                    <p>
                        Iman Fernando is a passionate singer and artist whose soulful voice captivates audiences across genres. With a unique blend of contemporary and traditional influences, Iman creates music that resonates with the heart and soul.
                    </p>
                    <p>
                        Born with an innate love for music, Iman has been performing since childhood, developing a distinctive style that combines powerful vocals with emotional depth. Each performance is a journey that connects with listeners on a profound level.
                    </p>
                    <p>
                        From intimate acoustic sessions to dynamic live performances, Iman continues to push creative boundaries while staying true to authentic expression.
                    </p>
                </div>
                <div class="showcase-image">
                    <div class="product-frame">
                        <img src="images/Iman.jpeg" alt="Iman Fernando" />
                        <div class="image-overlay"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="music" class="section">
        <div class="container">
            <h2 class="section-title fade-in">Music</h2>
            <div class="music-grid">
                <div class="track fade-in">
                    <div class="track-image">
                        <img src="images/album_arts/Hathpethi_Mal.jpg" alt="Hathpethi Mal" class="album-art">
                        <button class="track-play-btn" onclick="playTrack('Hathpethi_Mal', 'Hathpethi Mal', '♪')">▶</button>
                    </div>
                    <div class="track-info">
                        <h3 class="track-title">Hathpethi Mal <br>(හත්පෙති මල්)</h3>
                        <div class="track-meta">Single • 2025</div>
                        <div class="track-links">
                            <a href="https://open.spotify.com/track/6CAfdG501h4wxV3bjyZTfY" class="track-link" target="_blank">Spotify</a>
                            <a href="https://music.apple.com/us/album/hathpethi-mal-single/1807812309" class="track-link" target="_blank">Apple Music</a>
                            <a href="https://www.youtube.com/watch?v=Tw6D2YrVoFU" class="track-link" target="_blank">YouTube</a>
                        </div>
                    </div>
                </div>

                <div class="track fade-in">
                    <div class="track-image">
                        <img src="images/album_arts/Paalu_Yaame.jpeg" alt="Paalu Yaame" class="album-art">
                        <button class="track-play-btn" onclick="playTrack('Paalu_Yaame', '☀')">▶</button>
                    </div>
                    <div class="track-info">
                        <h3 class="track-title">Paalu Yaame <br> (මා සොළුරි)</h3>
                        <div class="track-meta">Single • 2023</div>
                        <div class="track-links">
                            <a href="https://open.spotify.com/track/42e6q2wCvs3awgT5bHPlZz" class="track-link" target="_blank">Spotify</a>
                            <a href="https://music.apple.com/us/album/paalu-yaame/1718026818" class="track-link" target="_blank">Apple Music</a>
                            <a href="https://www.youtube.com/watch?v=xaFss3mI_8s" class="track-link" target="_blank">YouTube</a>
                        </div>
                    </div>
                </div>

                <div class="track fade-in">
                    <div class="track-image">
                        <img src="images/album_arts/Hangannada_Adare.jpeg" alt="Hangannada Adare" class="album-art">
                        <button class="track-play-btn" onclick="playTrack('Hangannada_Adare', '∿')">▶</button>
                    </div>
                    <div class="track-info">
                        <h3 class="track-title">Hangannada Adare <br>(හංගන්නද ආදරේ)</h3>
                        <div class="track-meta">Single • 2023</div>
                        <div class="track-links">
                            <a href="https://open.spotify.com/track/3sBKpC9WBlvmHbvU4Ky9id" class="track-link" target="_blank">Spotify</a>
                            <a href="https://music.apple.com/lk/song/hangannada-adare-feat-dilu-beats/1717062048" class="track-link" target="_blank">Apple Music</a>
                            <a href="https://www.youtube.com/watch?v=pNJna39-_nI" class="track-link" target="_blank">YouTube</a>
                        </div>
                    </div>
                </div>

                <div class="track fade-in">
                    <div class="track-image">
                        <img src="images/album_arts/Ralu_Nethu.jpg" alt="Ralu Nethu" class="album-art">
                        <button class="track-play-btn" onclick="playTrack('Ralu_Nethu', '◆')">▶</button>
                    </div>
                    <div class="track-info">
                        <h3 class="track-title">Ralu Nethu <br>(රළු නෙතු)</h3>
                        <div class="track-meta">Single • 2024</div>
                        <div class="track-links">
                            <a href="https://open.spotify.com/track/7sC2mzzW6ikgeM71PlY4Rq" class="track-link" target="_blank">Spotify</a>
                            <a href="https://music.apple.com/lk/album/ralu-nethu-single/1758223075" class="track-link" target="_blank">Apple Music</a>
                            <a href="https://www.youtube.com/watch?v=vAUuhZ5ffzA" class="track-link" target="_blank">YouTube</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="collaborations" class="section">
        <div class="container">
            <h2 class="section-title fade-in">Music</h2>
            <div class="music-grid">
                <div class="track fade-in">
                    <div class="track-image">
                        <img src="images/album_arts/Charikawak.jpg" alt="Charikawak" class="album-art">
                        <button class="track-play-btn" onclick="playTrack('Chaarikawak', '◦')">▶</button>
                    </div>
                    <div class="track-info">
                        <h3 class="track-title">Charikawak <br>(චාරිකාවක්)</h3>
                        <div class="track-meta">Single • 2024</div>
                        <div class="track-links">
                            <a href="https://open.spotify.com/track/1dZ6SOdN5YXka5F3M9LZKU" class="track-link" target="_blank">Spotify</a>
                            <a href="https://music.apple.com/lk/song/charikawak-feat-ramidu-iman-fernando/1753219825" class="track-link" target="_blank">Apple Music</a>
                            <a href="https://www.youtube.com/watch?v=qwQdMXqy9wM" class="track-link" target="_blank">YouTube</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="tour" class="section">
        <div class="container">
            <h2 class="section-title fade-in">Live Shows</h2>
            <div class="tour-list fade-in">
                <div class="tour-item">
                    <div>
                        <div class="tour-date">Nov 15, 2025</div>
                        <div class="tour-venue">Aaley</div>
                        <div class="tour-location">Kandy, Sri Lanka</div>
                    </div>
                    <a href="https://mytickets.lk" class="tour-button" target="_blank">Tickets</a>
                </div>

                <div class="tour-item">
                    <div>
                        <div class="tour-date">Nov 22, 2025</div>
                        <div class="tour-venue">Kathawak</div>
                        <div class="tour-location">Colombo, Sri Lanka</div>
                    </div>
                    <a href="https://mytickets.lk" class="tour-button" target="_blank">Tickets</a>
                </div>

                <div class="tour-item">
                    <div>
                        <div class="tour-date">Nov 05, 2025</div>
                        <div class="tour-venue">Nadhagama 2.0</div>
                        <div class="tour-location">Galle, Sri Lanka</div>
                    </div>
                    <a href="https://mytickets.lk" class="tour-button" target="_blank">Tickets</a>
                </div>

                <div class="tour-item">
                    <div>
                        <div class="tour-date">Dec 18, 2025</div>
                        <div class="tour-venue">Nadhagama 2.0</div>
                        <div class="tour-location">Viharamahadevi Open Air, Sri Lanka</div>
                    </div>
                    <a href="https://mytickets.lk" class="tour-button" target="_blank">Tickets</a>
                </div>

                <div class="tour-item">
                    <div>
                        <div class="tour-date">Dec 02, 2025</div>
                        <div class="tour-venue">Kathawak Return</div>
                        <div class="tour-location">Kandy, Sri Lanka</div>
                    </div>
                    <a href="https://mytickets.lk" class="tour-button" target="_blank">Tickets</a>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section contact">
        <div class="container">
            <h2 class="section-title fade-in">Connect</h2>
            <div class="social-links fade-in">
                <a href="https://www.instagram.com/imanfernando__?utm_source=chatgpt.com" class="social-link">Instagram</a>
                <a href="https://www.youtube.com/channel/UC3BkKRxd3Xorm6i9Wv1THlQ?utm_source=chatgpt.com" class="social-link">YouTube</a>
                <a href="https://open.spotify.com/artist/42ATja5N0WYsh9RNSParhI?utm_source=chatgpt.com" class="social-link">Spotify</a>
                <a href="https://m.facebook.com/p/Iman-Fernando-100076064232713?utm_source=chatgpt.com" class="social-link">Facebook</a>
                <a href="mailto:imanfernandoofficial@gmail.com" class="social-link">Email</a>
            </div>
        </div>
    </section>

    <!-- Global Music Player -->
    <div class="global-player" id="globalPlayer">
        <div class="player-content">
            <div class="player-info">
                <div class="player-thumbnail" id="playerThumbnail">♪</div>
                <div class="player-details">
                    <h4 id="playerTitle">Hathpethi Mal</h4>
                    <p id="playerArtist">Iman Fernando</p>
                </div>
            </div>
            <div class="player-controls">
                <button class="control-btn" id="prevBtn">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                    </svg>
                </button>
                <button class="control-btn play-btn" id="playPauseBtn">
                    <svg viewBox="0 0 24 24" id="playIcon">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg viewBox="0 0 24 24" id="pauseIcon" style="display: none;">
                        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                    </svg>
                </button>
                <button class="control-btn" id="nextBtn">
                    <svg viewBox="0 0 24 24">
                        <path d="m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                    </svg>
                </button>
                <button class="control-btn" id="volumeBtn">
                    <svg viewBox="0 0 24 24" id="volumeOnIcon">
                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                    </svg>
                    <svg viewBox="0 0 24 24" id="volumeOffIcon" style="display: none;">
                        <path d="M16.5 12A4.5 4.5 0 0014 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0021 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                    </svg>
                </button>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="time-display">
                    <span id="currentTime">0:00</span>
                    <span id="totalTime">0:00</span>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                © 2024 Iman Fernando. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // Music Player Elements
        const audioPlayer = document.getElementById('audioPlayer');
        const globalPlayer = document.getElementById('globalPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const currentTimeSpan = document.getElementById('currentTime');
        const totalTimeSpan = document.getElementById('totalTime');
        const playerTitle = document.getElementById('playerTitle');
        const playerArtist = document.getElementById('playerArtist');
        const playerThumbnail = document.getElementById('playerThumbnail');
        const heroPlayBtn = document.getElementById('heroPlayBtn');
        const heroTrackInfo = document.getElementById('heroTrackInfo');
        const heroTrackTitle = document.getElementById('heroTrackTitle');
        const volumeBtn = document.getElementById('volumeBtn');
        const volumeOnIcon = document.getElementById('volumeOnIcon');
        const volumeOffIcon = document.getElementById('volumeOffIcon');

        // Track data with actual MP3 file names
        const tracks = {
            'Hathpethi_Mal': {
                src: 'music/Hathpethi Mal.mp3',
                title: 'Hathpethi Mal',
                artist: 'Iman Fernando',
                symbol: '♪',
                image: 'images/album_arts/Hathpethi_Mal.jpg'
            },
            'Paalu_Yaame': {
                src: 'music/Paalu_yaame.mp3',
                title: 'Paalu Yaame',
                artist: 'Iman Fernando',
                symbol: '☀',
                image: 'images/album_arts/Paalu_Yaame.jpeg'
            },
            'Hangannada_Adare': {
                src: 'music/Hangannada_adare.mp3',
                title: 'Hangannada Adare',
                artist: 'Iman Fernando',
                symbol: '∿',
                image: 'images/album_arts/Hangannada_Adare.jpeg'
            },
            'Ralu_Nethu': {
                src: 'music/Ralu_nethu.mp3',
                title: 'Ralu Nethu',
                artist: 'Iman Fernando',
                symbol: '◆',
                image: 'images/album_arts/Ralu_Nethu.jpg'
            },
            'Chaarikawak': {
                src: 'music/Charikawak.mp3',
                title: 'Charikawak',
                artist: 'Iman',
                symbol: '◦',
                image: 'images/album_arts/Charikawak.jpg'
            },
        };

        let currentTrack = 'Hathpethi_Mal';
        let isPlaying = false;

        // Initialize default track
        function initializePlayer() {
            const track = tracks[currentTrack];
            audioPlayer.src = track.src;
            playerTitle.textContent = track.title;
            playerArtist.textContent = track.artist;
            playerThumbnail.innerHTML = `<img src="${track.image}" alt="${track.title}" class="player-art">`;
            heroTrackTitle.textContent = track.title;
            heroTrackInfo.classList.add('visible');
        }

        // Hero play button toggle
        function toggleHeroPlayback() {
            if (!isPlaying) {
                playCurrentTrack();
            } else {
                pauseCurrentTrack();
            }
        }

        // Play current track
        function playCurrentTrack() {
            audioPlayer.play().then(() => {
                isPlaying = true;
                heroPlayBtn.textContent = '⏸';
                heroPlayBtn.classList.add('playing');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
                globalPlayer.classList.add('active');
                updateAllPlayButtons();
            }).catch(e => {
                console.log('Playback failed:', e);
                // Fallback for demo
                isPlaying = true;
                heroPlayBtn.textContent = '⏸';
                heroPlayBtn.classList.add('playing');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
                globalPlayer.classList.add('active');
                updateAllPlayButtons();
                simulateProgress();
            });
        }

        // Pause current track
        function pauseCurrentTrack() {
            audioPlayer.pause();
            isPlaying = false;
            heroPlayBtn.textContent = '▶';
            heroPlayBtn.classList.remove('playing');
            playIcon.style.display = 'block';
            pauseIcon.style.display = 'none';
            updateAllPlayButtons();
        }

        // Play specific track
        function playTrack(trackId, title, symbol) {
            const track = tracks[trackId];
            if (!track) return;
            
            currentTrack = trackId;
            audioPlayer.src = track.src;
            playerTitle.textContent = track.title;
            playerArtist.textContent = track.artist;
            playerThumbnail.innerHTML = `<img src="${track.image}" alt="${track.title}" class="player-art">`;
            heroTrackTitle.textContent = track.title;
            
            globalPlayer.classList.add('active');
            heroTrackInfo.classList.add('visible');
            
            playCurrentTrack();
        }

        // Play/Pause toggle for global player
        function togglePlayPause() {
            if (!isPlaying) {
                playCurrentTrack();
            } else {
                pauseCurrentTrack();
            }
        }

        // Update all track play buttons
        function updateAllPlayButtons() {
            document.querySelectorAll('.track-play-btn').forEach(btn => {
                const onclickAttr = btn.getAttribute('onclick');
                if (onclickAttr) {
                    const match = onclickAttr.match(/'([^']+)'/);
                    if (match) {
                        const trackId = match[1];
                        if (trackId === currentTrack && isPlaying) {
                            btn.textContent = '⏸';
                        } else {
                            btn.textContent = '▶';
                        }
                    }
                }
            });
        }

        // Format time display
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // Update progress bar
        function updateProgress() {
            if (audioPlayer.duration) {
                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressFill.style.width = progress + '%';
                currentTimeSpan.textContent = formatTime(audioPlayer.currentTime);
                totalTimeSpan.textContent = formatTime(audioPlayer.duration);
            }
        }

        // Simulate progress for demo
        let demoProgress = 0;
        let demoInterval = null;
        
        function simulateProgress() {
            if (demoInterval) clearInterval(demoInterval);
            demoProgress = 0;
            totalTimeSpan.textContent = '3:42';
            
            demoInterval = setInterval(() => {
                if (isPlaying) {
                    demoProgress += 0.5;
                    const progress = (demoProgress / 222) * 100;
                    progressFill.style.width = Math.min(progress, 100) + '%';
                    currentTimeSpan.textContent = formatTime(demoProgress);
                    
                    if (demoProgress >= 222) {
                        clearInterval(demoInterval);
                        isPlaying = false;
                        heroPlayBtn.textContent = '▶';
                        heroPlayBtn.classList.remove('playing');
                        playIcon.style.display = 'block';
                        pauseIcon.style.display = 'none';
                        updateAllPlayButtons();
                    }
                }
            }, 500);
        }

        // Click to seek in progress bar
        progressBar.addEventListener('click', (e) => {
            if (audioPlayer.duration) {
                const rect = progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                audioPlayer.currentTime = percent * audioPlayer.duration;
            } else {
                const rect = progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                demoProgress = percent * 222;
                const progress = (demoProgress / 222) * 100;
                progressFill.style.width = progress + '%';
                currentTimeSpan.textContent = formatTime(demoProgress);
            }
        });

        // Event listeners
        playPauseBtn.addEventListener('click', togglePlayPause);
        audioPlayer.addEventListener('timeupdate', updateProgress);
        audioPlayer.addEventListener('loadedmetadata', updateProgress);

        audioPlayer.addEventListener('ended', () => {
            isPlaying = false;
            heroPlayBtn.textContent = '▶';
            heroPlayBtn.classList.remove('playing');
            playIcon.style.display = 'block';
            pauseIcon.style.display = 'none';
            updateAllPlayButtons();
        });

        // Previous track
        document.getElementById('prevBtn').addEventListener('click', () => {
            const trackIds = Object.keys(tracks);
            const currentIndex = trackIds.indexOf(currentTrack);
            const prevIndex = currentIndex > 0 ? currentIndex - 1 : trackIds.length - 1;
            const prevTrack = tracks[trackIds[prevIndex]];
            playTrack(trackIds[prevIndex], prevTrack.title, prevTrack.symbol);
        });

        // Next track
        document.getElementById('nextBtn').addEventListener('click', () => {
            const trackIds = Object.keys(tracks);
            const currentIndex = trackIds.indexOf(currentTrack);
            const nextIndex = currentIndex < trackIds.length - 1 ? currentIndex + 1 : 0;
            const nextTrack = tracks[trackIds[nextIndex]];
            playTrack(trackIds[nextIndex], nextTrack.title, nextTrack.symbol);
        });

        // Volume control
        volumeBtn.addEventListener('click', () => {
            audioPlayer.muted = !audioPlayer.muted;
            if (audioPlayer.muted) {
                volumeOnIcon.style.display = 'none';
                volumeOffIcon.style.display = 'block';
            } else {
                volumeOnIcon.style.display = 'block';
                volumeOffIcon.style.display = 'none';
            }
        });

        // Mobile menu toggle
        function toggleMenu() {
            const navLinks = document.getElementById('nav-links');
            navLinks.classList.toggle('active');
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Fade in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Hide scroll indicator after scrolling
        window.addEventListener('scroll', () => {
            const scrollIndicator = document.querySelector('.scroll-indicator');
            if (window.scrollY > 100) {
                scrollIndicator.style.opacity = '0';
            } else {
                scrollIndicator.style.opacity = '1';
            }
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const navLinks = document.getElementById('nav-links');
            const mobileMenu = document.querySelector('.mobile-menu');
            
            if (!navLinks.contains(event.target) && !mobileMenu.contains(event.target)) {
                navLinks.classList.remove('active');
            }
        });

        // Initialize the player when page loads
        document.addEventListener('DOMContentLoaded', initializePlayer);
    </script>
</body>
</html>